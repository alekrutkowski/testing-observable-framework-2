<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
<meta name="generator" content="Observable Framework v1.13.3">
<title>Hello Framework</title>
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link rel="preload" as="style" href="https://fonts.googleapis.com/css2?family=Source+Serif+4:ital,opsz,wght@0,8..60,200..900;1,8..60,200..900&amp;display=swap" crossorigin>
<link rel="preload" as="style" href="./_observablehq/theme-air,near-midnight.dcdbf18e.css">
<link rel="preload" as="style" href="./_observablehq/stdlib/inputs.ea9fd553.css">
<link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css2?family=Source+Serif+4:ital,opsz,wght@0,8..60,200..900;1,8..60,200..900&amp;display=swap" crossorigin>
<link rel="stylesheet" type="text/css" href="./_observablehq/theme-air,near-midnight.dcdbf18e.css">
<link rel="stylesheet" type="text/css" href="./_observablehq/stdlib/inputs.ea9fd553.css">
<link rel="modulepreload" href="./_observablehq/client.f8ed3945.js">
<link rel="modulepreload" href="./_observablehq/runtime.e080113b.js">
<link rel="modulepreload" href="./_observablehq/stdlib.340139f6.js">
<link rel="modulepreload" href="./_npm/arquero@8.0.3/81772d30.js">
<link rel="modulepreload" href="./_npm/d3@7.9.0/e780feca.js">
<link rel="modulepreload" href="./_npm/htl@0.3.1/72f4716c.js">
<link rel="modulepreload" href="./_observablehq/stdlib/inputs.306de2d7.js">
<link rel="modulepreload" href="./_npm/@observablehq/plot@0.6.17/d761ef9b.js">
<link rel="modulepreload" href="./_npm/isoformat@0.2.1/18cbf477.js">
<link rel="modulepreload" href="./_npm/acorn@8.15.0/c47b807d.js">
<link rel="modulepreload" href="./_npm/@uwdata/flechette@2.2.3/9495cf66.js">
<link rel="modulepreload" href="./_npm/d3-array@3.2.4/e93ca09f.js">
<link rel="modulepreload" href="./_npm/d3-axis@3.0.0/0f2de24d.js">
<link rel="modulepreload" href="./_npm/d3-brush@3.0.0/65eb105b.js">
<link rel="modulepreload" href="./_npm/d3-chord@3.0.1/7ef8fb2e.js">
<link rel="modulepreload" href="./_npm/d3-color@3.1.0/aeb57b94.js">
<link rel="modulepreload" href="./_npm/d3-contour@4.0.2/1d2aed74.js">
<link rel="modulepreload" href="./_npm/d3-delaunay@6.0.4/5ced1d52.js">
<link rel="modulepreload" href="./_npm/d3-dispatch@3.0.1/9ba9c7f3.js">
<link rel="modulepreload" href="./_npm/d3-drag@3.0.0/4202580c.js">
<link rel="modulepreload" href="./_npm/d3-dsv@3.0.1/9cffc2bd.js">
<link rel="modulepreload" href="./_npm/d3-ease@3.0.1/cdd7e898.js">
<link rel="modulepreload" href="./_npm/d3-fetch@3.0.1/b4e2ad9a.js">
<link rel="modulepreload" href="./_npm/d3-force@3.0.0/5e804d15.js">
<link rel="modulepreload" href="./_npm/d3-format@3.1.0/86074ef6.js">
<link rel="modulepreload" href="./_npm/d3-geo@3.1.1/40599fb3.js">
<link rel="modulepreload" href="./_npm/d3-hierarchy@3.1.2/e49e792c.js">
<link rel="modulepreload" href="./_npm/d3-interpolate@3.0.1/8d1e5425.js">
<link rel="modulepreload" href="./_npm/d3-path@3.1.0/20d3f133.js">
<link rel="modulepreload" href="./_npm/d3-polygon@3.0.1/7553081f.js">
<link rel="modulepreload" href="./_npm/d3-quadtree@3.0.1/0dfd751c.js">
<link rel="modulepreload" href="./_npm/d3-random@3.0.1/3c90ee06.js">
<link rel="modulepreload" href="./_npm/d3-scale@4.0.2/843b6a76.js">
<link rel="modulepreload" href="./_npm/d3-scale-chromatic@3.1.0/ba24c2e7.js">
<link rel="modulepreload" href="./_npm/d3-selection@3.0.0/4d94e5b7.js">
<link rel="modulepreload" href="./_npm/d3-shape@3.2.0/6d3a6726.js">
<link rel="modulepreload" href="./_npm/d3-time@3.1.0/9f03c579.js">
<link rel="modulepreload" href="./_npm/d3-time-format@4.1.0/07c9626f.js">
<link rel="modulepreload" href="./_npm/d3-timer@3.0.1/b58a267d.js">
<link rel="modulepreload" href="./_npm/d3-transition@3.0.1/004da2ac.js">
<link rel="modulepreload" href="./_npm/d3-zoom@3.0.0/b5786b3f.js">
<link rel="modulepreload" href="./_npm/interval-tree-1d@1.0.4/53fe8176.js">
<link rel="modulepreload" href="./_npm/internmap@2.0.3/e08981d9.js">
<link rel="modulepreload" href="./_npm/delaunator@5.0.1/02d43215.js">
<link rel="modulepreload" href="./_npm/binary-search-bounds@2.0.5/cbf6ba23.js">
<link rel="modulepreload" href="./_npm/robust-predicates@3.0.2/aa00730b.js">
<link rel="icon" href="./_file/observable.74de59f1.png" type="image/png" sizes="32x32">
<script type="module">

import {define} from "./_observablehq/client.f8ed3945.js";

define({id: "d640614f", inputs: ["view","Inputs","html"], outputs: ["large_plots_toggle"], body: (view,Inputs,html) => {
const large_plots_toggle =
  view(Inputs.checkbox([" "],{label: html`<h3>Show large plots?</h3>`, value: false, width: 120}));
return {large_plots_toggle};
}});

define({id: "3c38a638", inputs: ["view","Inputs","html"], outputs: ["varmap","inversed_varmap","variable"], body: (view,Inputs,html) => {
const varmap =
    new Map([
      ["Real GDP growth (in %)","CLV_PCH_PRE"],
      ["Inflation (GDP deflator index change in %)","PD_PCH_PRE_NAC"]
    ]);
const inversed_varmap = 
  new Map([...varmap].map(([k, v]) => [v, k]));
    
const variable = view(
  Inputs.select(
    varmap,
    {value: "CLV_PCH_PRE", 
     label: html`<h3>Select a variable</h3>`}
  )
);
return {varmap,inversed_varmap,variable};
}});

define({id: "d14fa004", inputs: ["html","fetchCSVtoObjects","view","Inputs"], outputs: ["kbd_info","mydata","countries"], body: async (html,fetchCSVtoObjects,view,Inputs) => {
const kbd_info =
  html`<div class="tooltip">ðŸ›ˆ
  <span class="tooltiptext">
  <kbd>Ctrl</kbd> + Click or <kbd>Shift</kbd> + Click to select multiple items
  </span>
  </div>`

const mydata = 
  await fetchCSVtoObjects("https://ec.europa.eu/eurostat/api/dissemination/sdmx/3.0/data/dataflow/ESTAT/nama_10_gdp/1.0/*.*.*.*?c[freq]=A&c[unit]=CLV_PCH_PRE,PD_PCH_PRE_NAC&c[na_item]=B1GQ&c[TIME_PERIOD]=2015,2016,2017,2018,2019,2020,2021,2022,2023,2024&compress=false&format=csvdata&formatVersion=2.0&lang=en&labels=name");

const countries = view(
  Inputs.select(
    new Map([
      ["European Union","EU27_2020"],
      ["Belgium","BE"],
      ["Bulgaria","BG"],
      ["Czechia","CZ"],
      ["Denmark","DK"],
      ["Germany","DE"],
      ["Estonia","EE"],
      ["Ireland","IE"],
      ["Greece","EL"],
      ["Spain","ES"],
      ["France","FR"],
      ["Croatia","HR"],
      ["Italy","IT"],
      ["Cyprus","CY"],
      ["Latvia","LV"],
      ["Lithuania","LT"],
      ["Luxembourg","LU"],
      ["Hungary","HU"],
      ["Malta","MT"],
      ["Netherlands","NL"],
      ["Austria","AT"],
      ["Poland","PL"],
      ["Portugal","PT"],
      ["Romania","RO"],
      ["Slovenia","SI"],
      ["Slovakia","SK"],
      ["Finland","FI"],
      ["Sweden","SE"]
    ]),
    {value: ["EU27_2020"], 
     label: html`<h3>Select one or more countries</h3>${kbd_info}`,
     multiple: 2}
  )
);
return {kbd_info,mydata,countries};
}});

define({id: "919d0be6", inputs: ["large_plots_toggle"], outputs: ["large_plots","col_num"], body: (large_plots_toggle) => {
const large_plots =
  large_plots_toggle == " ";
const col_num =
  large_plots ? 1 : 2;
return {large_plots,col_num};
}});

define({id: "a7c21486", inputs: ["aq","mydata","countries","variable","col_num","resize","Plot","inversed_varmap","d3"], outputs: ["mydata1","scaling_factor","chart1"], body: (aq,mydata,countries,variable,col_num,resize,Plot,inversed_varmap,d3) => {
const mydata1 = aq.from(mydata)
  .params({countries, variable})
  .filter(d => aq.op.includes(countries, d.geo))
  .filter(d => d.unit==variable);
  
const scaling_factor =
  3 - col_num;

const chart1 = resize(width => {
  return Plot.plot({
    width: width*scaling_factor,
    height: .5*width*scaling_factor,
    title: inversed_varmap.get(variable),
    style: {overflow: "visible", fontSize: 12*scaling_factor},
    y: {grid: true, label: null},
    x: {tickFormat: "", label: null,  // tickFormat: "" shows 2015 not 2,015
        ticks: d3.range(d3.min(mydata1, d => d.TIME_PERIOD), d3.max(mydata1, d => d.TIME_PERIOD) + 1, 1)}, // to avoid fractional ticks, doesn't make sense for years
    color: {legend: true},
    marks: [
      Plot.ruleY([0]),
      Plot.lineY(mydata1, {x: "TIME_PERIOD", y: "OBS_VALUE", stroke: "geo", strokeWidth: 1.5*scaling_factor}),
      Plot.text(mydata1, Plot.pointerX({x: 'TIME_PERIOD', y: 'OBS_VALUE', text: 'OBS_VALUE'}))
    ]
  });
});

return {mydata1,scaling_factor,chart1};
}});

define({id: "91edc5fb", inputs: ["html","col_num","chart1"], outputs: ["mydiv"], body: (html,col_num,chart1) => {
const mydiv = html`
  <div class="${"grid grid-cols-" + col_num}">
    <div class="card">${chart1}</div>
  </div>`
return {mydiv};
}});

define({id: "b4b5dad6", mode: "inline", inputs: ["mydiv","display"], body: async (mydiv,display) => {
display(await(
mydiv
))
}});

</script>
</head>
<body>
<div id="observablehq-center">
<main id="observablehq-main" class="observablehq">
<!-- Important! Input values returned by view() calls can be used only in a separate js code blocks. -->
<!-- Think: a separate spreadsheet cell to avoid a circular reference. -->
<!-- See https://gist.githubusercontent.com/alekrutkowski/797ca03a87743ca6e25f5a27584f8b53 -->
<!-- See https://talk.observablehq.com/t/how-to-use-input-values-for-computation-in-an-observable-doc/9055 -->
<!-- Imports async functon fetchCSVtoObjects -->
<!-- Fetches a CSV contents and puts its rows into an array of objects -->
<!-- See https://gist.githubusercontent.com/alekrutkowski/797ca03a87743ca6e25f5a27584f8b53 -->
<!-- The raw gist contents needs to be served through a proxy e.g. githack.com with proper Content-Type header (as application/javascript not text/plain MIME type) -->
<script src="https://gist.githack.com/alekrutkowski/797ca03a87743ca6e25f5a27584f8b53/raw/f3ba0f5b4f68c659f1d2cdba6e0eda956251ff3d/fetchCSVtoObjects.js"></script>
<!-- For JavaScript "data frames": https://idl.uw.edu/arquero -->
<!-- Arquero will be imported into the aq global object -->
<script src="https://cdn.jsdelivr.net/npm/arquero@latest"></script>
<h1 style="font-family:sans-serif;">Observable Framework meets Eurostat</h1>
<div class="mycontainer">
<div class="observablehq observablehq--block"><!--:d640614f:--></div>
<div class="observablehq observablehq--block"><!--:3c38a638:--></div>
<div class="observablehq observablehq--block"><!--:d14fa004:--></div>
</div> <!-- Closing tag for <div class="mycontainer"> -->
<div class="observablehq observablehq--block"><!--:919d0be6:--></div>
<div class="observablehq observablehq--block"><!--:a7c21486:--></div>
<div class="observablehq observablehq--block"><!--:91edc5fb:--></div>
<div><observablehq-loading></observablehq-loading><!--:b4b5dad6:--><div>
<!-- Uncomment if you want to remove the "Built with Observable on ...." text.
```js
const observer = new MutationObserver(() => {
  const footer = document.getElementById("observablehq-footer");
  if (footer) {
    footer.remove();
    observer.disconnect(); // stop observing once it's gone
  }
});
observer.observe(document.body, { childList: true, subtree: true });
```
-->
<style>

.hero {
  display: flex;
  flex-direction: column;
  align-items: center;
  font-family: var(--sans-serif);
  margin: 4rem 0 8rem;
  text-wrap: balance;
  text-align: center;
}

.hero h1 {
  margin: 1rem 0;
  padding: 1rem 0;
  max-width: none;
  font-size: 14vw;
  font-weight: 900;
  line-height: 1;
  background: linear-gradient(30deg, var(--theme-foreground-focus), currentColor);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
}

.hero h2 {
  margin: 0;
  max-width: 34em;
  font-size: 20px;
  font-style: initial;
  font-weight: 500;
  line-height: 1.5;
  color: var(--theme-foreground-muted);
}

@media (min-width: 640px) {
  .hero h1 {
    font-size: 90px;
  }
}

/* Base input style */
input[type="text"],
input[type="number"],
input[type="email"],
input[type="search"],
input[type="password"],
textarea,
select {
  width: 100%;
  padding: 0.5rem 0.75rem;
  border: 1px solid var(--theme-border, #d0d7de);
  border-radius: 0.5rem;
  background-color: var(--theme-bg, #fff);
  font-size: 0.95rem;
  font-family: inherit;
  transition: border-color 0.2s ease, box-shadow 0.2s ease;
  box-sizing: border-box;
}

/* On focus */
input:focus,
textarea:focus,
select:focus {
  outline: none;
  border-color: var(--theme-accent, #1f77b4);
  box-shadow: 0 0 0 3px rgba(31, 119, 180, 0.25);
}

/* Placeholder styling */
::placeholder {
  color: #9ca3af;
}

/* Disabled */
input:disabled,
textarea:disabled,
select:disabled {
  background-color: #f3f4f6;
  color: #9ca3af;
  cursor: not-allowed;
}

/* Buttons */
button {
  padding: 0.5rem 1rem;
  border-radius: 0.5rem;
  border: none;
  background-color: var(--theme-accent, #1f77b4);
  color: white;
  font-weight: 500;
  cursor: pointer;
  transition: background-color 0.2s ease, box-shadow 0.2s ease;
}

button:hover {
  background-color: #155d8a;
}

button:disabled {
  background-color: #9ca3af;
  cursor: not-allowed;
}

kbd {
  display: inline-block;
  padding: 0.2em 0.4em;
  font-size: 0.85em;
  font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
  line-height: 1;
  color: var(--theme-text, #111);
  background-color: var(--theme-bg2, #f3f4f6);
  border: 1px solid var(--theme-border, #d0d7de);
  border-radius: 0.25rem;
  box-shadow: 0 1px 0 rgba(0,0,0,0.2), inset 0 0 0 1px #fff;
  white-space: nowrap;
}

.tooltip {
  position: relative;
  display: inline-block;
  cursor: pointer;
}

.tooltip .tooltiptext {
  visibility: hidden;
  opacity: 0;
  transition: opacity 0.2s;

  position: absolute;
  bottom: 125%;
  left: 50%;
  transform: translateX(-50%);

  background: #fff;            /* white background */
  color: #333;                 /* dark text */
  border: 1px solid #ccc;      /* light border */
  padding: 6px 10px;
  border-radius: 4px;
  white-space: nowrap;
  box-shadow: 0 2px 6px rgba(0,0,0,0.15);
  z-index: 1;
}

.tooltip:hover .tooltiptext {
  visibility: visible;
  opacity: 1;
}

.mycontainer {
  width: 100%;
}
.mycontainer > div {
  display: inline-block;
  margin: 5px;
  padding: 10px;
  border: 1px solid #ccc;
  border-radius: 8px;
  height: 50px;
}

</style>
</div></div></main>
<footer id="observablehq-footer">
<div>Built with <a href="https://observablehq.com/" target="_blank" rel="noopener noreferrer">Observable</a> on <a title="2025-09-24T16:38:56">Sep 24, 2025</a>.</div>
</footer>
</div>
</body>
</html>
